#include<bits/stdc++.h>
using namespace std;
#define ll long long
#define MAX5 100005
#define MAX6 1000005
#define mp make_pair
#define pb push_back
#define pii pair<int,int>
#define pll pair<ll,ll>
#define ff first
#define ss second
int n;
ll arr[1003];


// lis[x] represents the lis from x to n and lds[x] represents lds from 0 to x
int lis[1004],lds[1004];
int cal2(int x){
    if(lds[x] != -1) return lds[x];
    lds[x] = 1;
    for(int i=x-1;i>=0;i--){
        if(arr[i] > arr[x])
            lds[x] = max(lds[x],cal2(i)+1);
    }
    return lds[x];
}
int cal1(int x){

    if(lis[x]!=-1) return lis[x];
    lis[x] =1;
    for(int i=x+1;i<n;i++){
        if(arr[i] > arr[x])
            lis[x] = max(lis[x],cal1(i)+1);
    }
    return lis[x];
}
int solve(){
    int ans =1;
    memset(lds,-1,sizeof(lds));
    memset(lis,-1,sizeof(lis));
    for(int i=0;i<n;i++)
        ans = max(ans,cal1(i)+cal2(i)-1);

    return ans;
}
int main(){

    scanf("%d",&n);
    for(int i=0;i<n;i++) scanf("%lld",&arr[i]);

    printf("%d\n",solve());
}
